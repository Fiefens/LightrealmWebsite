<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lightrealm - Log</title>
  <link rel="stylesheet" href="../css/styles.css" />

  <style>
    html, body {
      background: #000 !important;
    }

    .background-layer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #000 !important;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .sidebar {
      position: absolute;
      top: 0;
      height: 100%;
      width: 35vw;
      object-fit: cover;
      image-rendering: pixelated;
      z-index: 1;
    }

    .sidebar.flipped {
      left: auto;
      right: 0;
      transform: scaleX(-1);
    }
  </style>
</head>

<body>
  <!-- Sidebars -->
  <div class="background-layer">
    <img src="../assets/sidebar.png" class="sidebar normal" alt="Sidebar" />
    <img src="../assets/sidebar.png" class="sidebar flipped" alt="Sidebar Flipped" />
  </div>

  <!-- Page Content -->
  <main class="content">
    <!-- Title -->
   <div class="title-scroll">
  <a href="/" style="pointer-events: auto; display: block;">
    <img src="../assets/title.png" alt="Title" style="display: block; margin: 0 auto;" />
  </a>
</div>


    <!-- Buttons -->
    <div class="top-button-bar">
      <a href="../info"><img src="../assets/buttons/about.png" alt="About" class="nav-button" /></a>
      <a href="../log"><img src="../assets/buttons/log.png" alt="Log" class="nav-button" /></a>
      <a href="../download"><img src="../assets/buttons/download.png" alt="Download the Game" class="nav-button" /></a>
      <a href="https://www.youtube.com/@revenant-entertainment" target="_blank"><img src="../assets/buttons/youtube.png" alt="YouTube" class="nav-button" /></a>
      <a href="https://discord.gg/XQR8WDBaPa" target="_blank"><img src="../assets/buttons/discord.png" alt="Discord" class="nav-button" /></a>
    </div>

    <!-- Log Text -->
    <div class="log-container" id="log-content">
      Loading log...
    </div>
  </main>

  <script>
    const title = document.querySelector('.title-scroll');
    const rootStyle = document.documentElement.style;

    function syncGap() {
      const gap = title.getBoundingClientRect().height;
      rootStyle.setProperty('--title-gap', `${gap}px`);
    }

    window.addEventListener('load', syncGap);
    window.addEventListener('resize', syncGap);

    // Load the log file
  // Load the log file with cache busting
fetch(`../logdirectory/log.txt?nocache=${Date.now()}`)
  .then(response => response.text())
  .then(text => {
    document.getElementById('log-content').textContent = text;
  })
  .catch(err => {
    document.getElementById('log-content').textContent = 'Failed to load log.';
    console.error('Error loading log:', err);
  });

  </script>
</body>
</html>
